!function(a){a.fn.VanderTable=function(b){var c={showRowOrder:!1,allowTableSort:!1,disableColReordering:!1,disableRowReordering:!1,color:"#167F92",onMoveCol:function(){},onMoveRow:function(){}},d=a.extend({},c,b);return this.each(function(){function h(b){b.find("tr").each(function(){count=a(this).parent().children().index(a(this))+1,a(this).attr("data-order",count),d.showRowOrder&&a(this).find(".tableOrder").html(count)})}function i(b,c,d){b.find("tbody tr").each(function(){var b=a(this).children("td:eq( "+c+" )"),e=a(this).children("td:eq( "+d+" )");c>d?b.insertBefore(e):b.insertAfter(e)})}a(this).find("th").css("background-color",d.color);var b,c,e=!1,f=a(this);d.showRowOrder&&(a(this).find("thead > tr:first").prepend('<th style="background-color:  '+d.color+'" class="orderControl">#</th>'),a(this).find("tbody > tr").each(function(){var b=a(this).parent().children().index(a(this))+1;a(this).prepend('<td class="orderControl tableOrder">'+b+"</td>")})),d.allowTableSort&&a(this).find("thead tr:first >th").each(function(){a(this).append('<span class="VanderTableSorter"><button>&#8597;</button></span>')});var g=function(b,c){var d=c.children(),e=c.clone();return e.children().each(function(b){a(this).width(d.eq(b).width())}),e};a(".VanderTableSorter").on("click",function(b){b.preventDefault(),colIndex=a(this).parent().index(),$rows=a("tbody > tr",f),isAsc=!0,a(this).hasClass("isAsc")?(isAsc=!1,a(this).removeClass("isAsc").addClass("isDesc")):(isAsc=!0,a(this).removeClass("isDesc").addClass("isAsc")),$rows.sort(function(b,c){var d=a("td:eq("+colIndex+")",b).text().replace(",","."),e=a("td:eq("+colIndex+")",c).text().replace(",",".");if(isNaN(d)||isNaN(e)){var f=String(d),g=String(e);return isAsc?f>g?1:0:f<g?1:0}var f=Number(d),g=Number(e);return isAsc?parseFloat(f)>parseFloat(g)?1:0:parseFloat(f)<parseFloat(g)?1:0}),$rows.each(function(a,b){f.find("tbody").append(b)})}),d.disableRowReordering||a(this).children("tbody").sortable({helper:g,opacity:.9,start:function(a,c){b=c.item.index()},stop:function(c,e){var f=e.item.index();b!=f?(h(a(this)),void 0!==d.onMoveRow&&d.onMoveRow(e.item,{old:b,new:f})):a(this).sortable("cancel")}}).disableSelection(),d.disableColReordering||a(this).find("thead tr:first").sortable({items:">th:not(.orderControl)",opacity:.5,start:function(a,b){c=b.item.index()},stop:function(b,f){if(c==f.item.index()||e)a(this).sortable("cancel");else{i(a(this).parent().parent(),c,f.item.index());var g=f.item.index();void 0!==d.onMoveCol&&d.onMoveCol(f.item,{old:c,new:g})}}}).disableSelection()})}}(jQuery);